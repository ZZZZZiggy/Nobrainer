# ğŸ§  NoBrainer - AI Chat Platform

<div align="center">

![NoBrainer Logo](public/image.png)

**ä¸€ä¸ªç°ä»£åŒ–çš„å…¨æ ˆ AI èŠå¤©å¹³å°ï¼ŒåŸºäº Next.js 15 å’Œ OpenAI API æ„å»º**

[![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![Next.js](https://img.shields.io/badge/Next.js-000000?style=for-the-badge&logo=next.js&logoColor=white)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)](https://reactjs.org/)
[![Prisma](https://img.shields.io/badge/Prisma-3982CE?style=for-the-badge&logo=Prisma&logoColor=white)](https://www.prisma.io/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-38B2AC?style=for-the-badge&logo=tailwind-css&logoColor=white)](https://tailwindcss.com/)

[ğŸš€ åœ¨çº¿æ¼”ç¤º](https://your-demo-url.com) â€¢ [ğŸ“– æ–‡æ¡£](https://your-docs-url.com) â€¢ [ğŸ› æŠ¥å‘Šé—®é¢˜](https://github.com/your-username/nobrainer/issues)

</div>

---

## ğŸ“‹ ç›®å½•

- [âœ¨ åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
- [ğŸ—ï¸ æŠ€æœ¯æ¶æ„](#ï¸-æŠ€æœ¯æ¶æ„)
- [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [âš™ï¸ ç¯å¢ƒé…ç½®](#ï¸-ç¯å¢ƒé…ç½®)
- [ğŸ“ é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [ğŸ”— API æ–‡æ¡£](#-api-æ–‡æ¡£)
- [ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡](#ï¸-æ•°æ®åº“è®¾è®¡)
- [ğŸ¨ UI/UX è®¾è®¡](#-uiux-è®¾è®¡)
- [ğŸ”§ å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)
- [ğŸš€ éƒ¨ç½²æŒ‡å—](#-éƒ¨ç½²æŒ‡å—)
- [ğŸ” æµ‹è¯•](#-æµ‹è¯•)
- [ğŸ“Š æ€§èƒ½ä¼˜åŒ–](#-æ€§èƒ½ä¼˜åŒ–)
- [ğŸ”’ å®‰å…¨æ€§](#-å®‰å…¨æ€§)
- [ğŸ¤ è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [ğŸ“ æ”¯æŒä¸è”ç³»](#-æ”¯æŒä¸è”ç³»)

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ” **èº«ä»½è®¤è¯ç³»ç»Ÿ**

- âœ… é‚®ç®±/å¯†ç æ³¨å†Œç™»å½•
- âœ… JWT ä¼šè¯ç®¡ç†
- âœ… å®‰å…¨å¯†ç å“ˆå¸Œï¼ˆbcryptï¼‰
- âœ… ä¼šè¯æŒä¹…åŒ–
- ğŸ”„ Google OAuthï¼ˆå¯é€‰å¯ç”¨ï¼‰

### ğŸ’¬ **æ™ºèƒ½èŠå¤©åŠŸèƒ½**

- âœ… å®æ—¶ AI å¯¹è¯ä½“éªŒ
- âœ… OpenAI GPT æ¨¡å‹é›†æˆ
- âœ… å¯¹è¯å†å²è®°å½•
- âœ… å¤šè½®å¯¹è¯ä¸Šä¸‹æ–‡ä¿æŒ
- âœ… æ¶ˆæ¯çŠ¶æ€å®æ—¶æ›´æ–°
- âœ… é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶

### ğŸ—‚ï¸ **èŠå¤©ç®¡ç†**

- âœ… åˆ›å»ºå’Œç®¡ç†å¤šä¸ªèŠå¤©ä¼šè¯
- âœ… è‡ªåŠ¨ç”ŸæˆèŠå¤©æ ‡é¢˜
- âœ… èŠå¤©å†å²æµè§ˆ
- âœ… æ¶ˆæ¯æœç´¢ï¼ˆè®¡åˆ’ä¸­ï¼‰
- âœ… èŠå¤©å¯¼å‡ºï¼ˆè®¡åˆ’ä¸­ï¼‰

### ğŸ“± **ç°ä»£åŒ–ç•Œé¢**

- âœ… å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- âœ… æ·±è‰²ä¸»é¢˜ç•Œé¢
- âœ… æµç•…çš„åŠ¨ç”»æ•ˆæœ
- âœ… ç›´è§‚çš„ç”¨æˆ·äº¤äº’
- âœ… é”®ç›˜å¿«æ·é”®æ”¯æŒ

### ğŸš€ **æ€§èƒ½ä¼˜åŒ–**

- âœ… æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰
- âœ… è‡ªåŠ¨ä»£ç åˆ†å‰²
- âœ… å›¾ç‰‡ä¼˜åŒ–
- âœ… ç¼“å­˜ç­–ç•¥
- âœ… æ¸è¿›å¼ Web åº”ç”¨ï¼ˆPWAï¼‰

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### **å‰ç«¯æŠ€æœ¯æ ˆ**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Frontend               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ React 19 + TypeScript             â”‚
â”‚ â€¢ Next.js 15 (App Router)           â”‚
â”‚ â€¢ Tailwind CSS 4                    â”‚
â”‚ â€¢ React Hooks & Context             â”‚
â”‚ â€¢ NextAuth.js                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **åç«¯æŠ€æœ¯æ ˆ**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Backend                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Next.js API Routes                â”‚
â”‚ â€¢ Prisma ORM                        â”‚
â”‚ â€¢ PostgreSQL Database               â”‚
â”‚ â€¢ JWT Authentication                â”‚
â”‚ â€¢ bcrypt Password Hashing           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **ç¬¬ä¸‰æ–¹é›†æˆ**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           External APIs             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ OpenAI GPT API                    â”‚
â”‚ â€¢ Supabase (å¯é€‰)                   â”‚
â”‚ â€¢ Google OAuth (å¯é€‰)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **æ ¸å¿ƒä¾èµ–ç‰ˆæœ¬**

| ä¾èµ–         | ç‰ˆæœ¬    | è¯´æ˜           |
| ------------ | ------- | -------------- |
| Next.js      | 15.3.3  | React å…¨æ ˆæ¡†æ¶ |
| React        | 19.0.0  | UI æ¡†æ¶        |
| TypeScript   | 5+      | ç±»å‹å®‰å…¨       |
| Prisma       | 6.9.0   | æ•°æ®åº“ ORM     |
| NextAuth.js  | 4.24.11 | èº«ä»½è®¤è¯       |
| Tailwind CSS | 4       | CSS æ¡†æ¶       |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ **ç³»ç»Ÿè¦æ±‚**

- Node.js 18.17 æˆ–æ›´é«˜ç‰ˆæœ¬
- npm æˆ– yarn åŒ…ç®¡ç†å™¨
- PostgreSQL æ•°æ®åº“
- Git

### ğŸ› ï¸ **å®‰è£…æ­¥éª¤**

#### 1ï¸âƒ£ **å…‹éš†é¡¹ç›®**

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/your-username/nobrainer.git
cd nobrainer/frontend-nextjs

# æˆ–è€…ä½¿ç”¨ GitHub CLI
gh repo clone your-username/nobrainer
```

#### 2ï¸âƒ£ **å®‰è£…ä¾èµ–**

```bash
# ä½¿ç”¨ npm
npm install

# æˆ–ä½¿ç”¨ yarn
yarn install

# æˆ–ä½¿ç”¨ pnpm (æ¨è)
pnpm install
```

#### 3ï¸âƒ£ **ç¯å¢ƒé…ç½®**

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env.local

# ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶
nano .env.local  # æˆ–ä½¿ç”¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨
```

#### 4ï¸âƒ£ **æ•°æ®åº“åˆå§‹åŒ–**

```bash
# ç”Ÿæˆ Prisma å®¢æˆ·ç«¯
npx prisma generate

# è¿è¡Œæ•°æ®åº“è¿ç§»
npx prisma db push

# (å¯é€‰) æŸ¥çœ‹æ•°æ®åº“
npx prisma studio
```

#### 5ï¸âƒ£ **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

```bash
# å¯åŠ¨å¼€å‘æ¨¡å¼
npm run dev

# å¸¦ Turbopack çš„å¿«é€Ÿå¼€å‘æ¨¡å¼
npm run dev --turbo
```

ğŸ‰ **åº”ç”¨ç°åœ¨è¿è¡Œåœ¨ [http://localhost:3000](http://localhost:3000)**

### ğŸ”§ **å¼€å‘å·¥å…·**

```bash
# ä»£ç æ£€æŸ¥
npm run lint

# ç±»å‹æ£€æŸ¥
npx tsc --noEmit

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start
```

---

## âš™ï¸ ç¯å¢ƒé…ç½®

### ğŸ“ **ç¯å¢ƒå˜é‡è¯¦è§£**

åˆ›å»º `.env.local` æ–‡ä»¶å¹¶é…ç½®ä»¥ä¸‹å˜é‡ï¼š

```env
# ==========================================
# ğŸ—„ï¸ æ•°æ®åº“é…ç½®
# ==========================================
DATABASE_URL="postgresql://username:password@localhost:5432/nobrainer"
# æˆ–ä½¿ç”¨ Supabase
# DATABASE_URL="postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres"

# ==========================================
# ğŸ” NextAuth.js é…ç½®
# ==========================================
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-super-secret-jwt-secret-key-here"
# ç”Ÿæˆç§˜é’¥: openssl rand -base64 32

# ==========================================
# ğŸ¤– OpenAI API é…ç½®
# ==========================================
OPENAI_API_KEY="sk-proj-your-openai-api-key-here"
OPENAI_MODEL="gpt-4o-mini"  # æˆ– gpt-3.5-turbo, gpt-4
OPENAI_TEMPERATURE="0.7"    # 0.0-2.0 ä¹‹é—´
OPENAI_MAX_TOKENS="4000"    # æœ€å¤§ token æ•°

# ==========================================
# ğŸ”§ ç³»ç»Ÿæç¤ºè¯é…ç½®
# ==========================================
SYSTEM_PROMPT="ä½ æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„AIåŠ©æ‰‹ï¼Œè¯·ç”¨ä¸­æ–‡å›ç­”ç”¨æˆ·çš„é—®é¢˜ã€‚"

# ==========================================
# ğŸŒ Google OAuth (å¯é€‰)
# ==========================================
# GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
# GOOGLE_CLIENT_SECRET="your-google-client-secret"

# ==========================================
# â˜ï¸ Supabase é…ç½® (å¯é€‰)
# ==========================================
# NEXT_PUBLIC_SUPABASE_URL="https://your-project.supabase.co"
# NEXT_PUBLIC_SUPABASE_ANON_KEY="your-anon-key"
# SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"

# ==========================================
# ğŸš€ éƒ¨ç½²é…ç½®
# ==========================================
# VERCEL_URL  # Vercel è‡ªåŠ¨è®¾ç½®
# NODE_ENV="development"  # development | production
```

### ğŸ”‘ **è·å– API å¯†é’¥**

#### **OpenAI API Key**

1. è®¿é—® [OpenAI Platform](https://platform.openai.com/api-keys)
2. ç™»å½•æˆ–åˆ›å»ºè´¦æˆ·
3. ç‚¹å‡» "Create new secret key"
4. å¤åˆ¶ç”Ÿæˆçš„å¯†é’¥åˆ° `OPENAI_API_KEY`

#### **Google OAuth (å¯é€‰)**

1. è®¿é—® [Google Cloud Console](https://console.cloud.google.com/)
2. åˆ›å»ºæ–°é¡¹ç›®æˆ–é€‰æ‹©ç°æœ‰é¡¹ç›®
3. å¯ç”¨ Google+ API
4. åˆ›å»º OAuth 2.0 å®¢æˆ·ç«¯ ID
5. è®¾ç½®å›è°ƒ URL: `http://localhost:3000/api/auth/callback/google`

#### **Supabase (å¯é€‰)**

1. è®¿é—® [Supabase](https://supabase.com)
2. åˆ›å»ºæ–°é¡¹ç›®
3. åœ¨è®¾ç½®ä¸­è·å– URL å’Œ API å¯†é’¥

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
ğŸ“¦ nobrainer/frontend-nextjs/
â”œâ”€â”€ ğŸ“ prisma/                     # æ•°æ®åº“é…ç½®
â”‚   â””â”€â”€ ğŸ“„ schema.prisma          # Prisma æ•°æ®æ¨¡å‹å®šä¹‰
â”œâ”€â”€ ğŸ“ public/                     # é™æ€èµ„æº
â”‚   â”œâ”€â”€ ğŸ–¼ï¸ favicon.ico            # ç½‘ç«™å›¾æ ‡
â”‚   â”œâ”€â”€ ğŸ–¼ï¸ image.png              # åº”ç”¨ Logo
â”‚   â”œâ”€â”€ ğŸ“„ system_prompt.txt       # é»˜è®¤ç³»ç»Ÿæç¤ºè¯
â”‚   â””â”€â”€ ğŸ¨ *.svg                  # çŸ¢é‡å›¾æ ‡
â”œâ”€â”€ ğŸ“ src/                        # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“ app/                    # Next.js 13+ App Router
â”‚   â”‚   â”œâ”€â”€ ğŸ“ api/                # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ auth/           # è®¤è¯ç›¸å…³ API
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ [...nextauth]/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“„ route.ts    # NextAuth.js é…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ chat/           # èŠå¤© API
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ route.ts    # èŠå¤©æ¶ˆæ¯å¤„ç†
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ register/       # ç”¨æˆ·æ³¨å†Œ API
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“„ route.ts    # ç”¨æˆ·æ³¨å†Œé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ ğŸ“ chat/               # èŠå¤©é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ page.tsx        # èŠå¤©ç•Œé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“ login/              # ç™»å½•é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ page.tsx        # ç™»å½•ç•Œé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“ signup/             # æ³¨å†Œé¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ page.tsx        # æ³¨å†Œç•Œé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ globals.css         # å…¨å±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ layout.tsx          # æ ¹å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ page.tsx            # é¦–é¡µç»„ä»¶
â”‚   â”‚   â””â”€â”€ ğŸ“„ scrollbar.css       # æ»šåŠ¨æ¡æ ·å¼
â”‚   â”œâ”€â”€ ğŸ“ lib/                    # å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ prisma.ts           # Prisma å®¢æˆ·ç«¯é…ç½®
â”‚   â”‚   â””â”€â”€ ğŸ“„ supabase.ts         # Supabase å®¢æˆ·ç«¯é…ç½®
â”‚   â””â”€â”€ ğŸ“ types/                  # TypeScript ç±»å‹å®šä¹‰
â”‚       â””â”€â”€ ğŸ“„ next-auth.d.ts      # NextAuth ç±»å‹æ‰©å±•
â”œâ”€â”€ ğŸ“„ .env.local                  # ç¯å¢ƒå˜é‡ (éœ€è‡ªåˆ›å»º)
â”œâ”€â”€ ğŸ“„ .env.example                # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ ğŸ“„ .gitignore                  # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ eslint.config.mjs           # ESLint é…ç½®
â”œâ”€â”€ ğŸ“„ next.config.js              # Next.js é…ç½®
â”œâ”€â”€ ğŸ“„ next.config.ts              # Next.js TypeScript é…ç½®
â”œâ”€â”€ ğŸ“„ package.json                # é¡¹ç›®ä¾èµ–é…ç½®
â”œâ”€â”€ ğŸ“„ postcss.config.mjs          # PostCSS é…ç½®
â”œâ”€â”€ ğŸ“„ README.md                   # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ tailwind.config.js          # Tailwind CSS é…ç½®
â”œâ”€â”€ ğŸ“„ tsconfig.json               # TypeScript é…ç½®
â””â”€â”€ ğŸ“„ vercel.json                 # Vercel éƒ¨ç½²é…ç½®
```

### ğŸ“ **æ ¸å¿ƒç›®å½•è¯´æ˜**

#### **`src/app/` - åº”ç”¨ä¸»ç›®å½•**

- ä½¿ç”¨ Next.js 13+ App Router æ¶æ„
- æ¯ä¸ªå­ç›®å½•ä»£è¡¨ä¸€ä¸ªè·¯ç”±
- `layout.tsx` å®šä¹‰é¡µé¢å¸ƒå±€
- `page.tsx` å®šä¹‰é¡µé¢å†…å®¹

#### **`src/app/api/` - API è·¯ç”±**

- **`auth/[...nextauth]/`**: NextAuth.js è®¤è¯å¤„ç†
- **`chat/`**: èŠå¤©æ¶ˆæ¯çš„ CRUD æ“ä½œ
- **`register/`**: ç”¨æˆ·æ³¨å†Œé€»è¾‘

#### **`src/lib/` - å…±äº«åº“**

- **`prisma.ts`**: æ•°æ®åº“è¿æ¥å’ŒæŸ¥è¯¢
- **`supabase.ts`**: Supabase å®¢æˆ·ç«¯é…ç½®

#### **`prisma/` - æ•°æ®åº“é…ç½®**

- **`schema.prisma`**: æ•°æ®æ¨¡å‹å®šä¹‰
- è‡ªåŠ¨ç”Ÿæˆçš„è¿ç§»æ–‡ä»¶

---

## ğŸ”— API æ–‡æ¡£

### ğŸ” **è®¤è¯ API**

#### **POST** `/api/register` - ç”¨æˆ·æ³¨å†Œ

```typescript
// è¯·æ±‚ä½“
{
  "email": "user@example.com",
  "password": "securePassword123",
  "name": "ç”¨æˆ·åç§°" // å¯é€‰
}

// æˆåŠŸå“åº” (201)
{
  "message": "User created successfully",
  "userId": "clxxxxx"
}

// é”™è¯¯å“åº” (400)
{
  "error": "User already exists"
}
```

#### **POST** `/api/auth/signin` - ç”¨æˆ·ç™»å½•

```typescript
// NextAuth.js å¤„ç†çš„æ ‡å‡†ç™»å½•ç«¯ç‚¹
// æ”¯æŒ credentials å’Œ OAuth æä¾›å•†
```

### ğŸ’¬ **èŠå¤© API**

#### **POST** `/api/chat` - å‘é€æ¶ˆæ¯

```typescript
// è¯·æ±‚ä½“
{
  "message": "ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹è‡ªå·±",
  "chatId": "clxxxxx", // å¯é€‰ï¼Œä¸æä¾›åˆ™åˆ›å»ºæ–°èŠå¤©
  "createEmptyChat": false // å¯é€‰ï¼Œä»…åˆ›å»ºç©ºèŠå¤©
}

// æˆåŠŸå“åº” (200)
{
  "chatId": "clxxxxx",
  "message": "ä½ å¥½ï¼æˆ‘æ˜¯AIåŠ©æ‰‹ï¼Œå¾ˆé«˜å…´ä¸ºæ‚¨æœåŠ¡..."
}

// é”™è¯¯å“åº”
{
  "error": "Unauthorized" // 401
}
{
  "error": "Message is required" // 400
}
```

#### **GET** `/api/chat` - è·å–èŠå¤©åˆ—è¡¨

```typescript
// æˆåŠŸå“åº” (200)
[
  {
    id: "clxxxxx",
    title: "å…³äºAIçš„è®¨è®º",
    createdAt: "2025-06-26T10:00:00.000Z",
    updatedAt: "2025-06-26T10:30:00.000Z",
    messages: [
      {
        id: "clxxxxx",
        content: "ä½ å¥½",
        role: "USER",
        createdAt: "2025-06-26T10:00:00.000Z",
      },
    ],
  },
];
```

#### **GET** `/api/chat?chatId=xxx` - è·å–ç‰¹å®šèŠå¤©

```typescript
// æˆåŠŸå“åº” (200)
{
  "id": "clxxxxx",
  "title": "å…³äºAIçš„è®¨è®º",
  "messages": [
    {
      "id": "clxxxxx",
      "content": "ä½ å¥½",
      "role": "USER",
      "createdAt": "2025-06-26T10:00:00.000Z"
    },
    {
      "id": "clxxxxx",
      "content": "ä½ å¥½ï¼æˆ‘æ˜¯AIåŠ©æ‰‹...",
      "role": "ASSISTANT",
      "createdAt": "2025-06-26T10:00:30.000Z"
    }
  ],
  "createdAt": "2025-06-26T10:00:00.000Z",
  "updatedAt": "2025-06-26T10:30:00.000Z"
}
```

### ğŸ›¡ï¸ **API å®‰å…¨æ€§**

- æ‰€æœ‰ API éƒ½éœ€è¦æœ‰æ•ˆçš„ç”¨æˆ·ä¼šè¯
- ç”¨æˆ·åªèƒ½è®¿é—®è‡ªå·±çš„æ•°æ®
- å¯†ç ä½¿ç”¨ bcrypt å“ˆå¸Œå­˜å‚¨
- JWT token ç”¨äºä¼šè¯ç®¡ç†

---

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### ğŸ“Š **æ•°æ®æ¨¡å‹å…³ç³»å›¾**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      User       â”‚    â”‚      Chat       â”‚    â”‚    Message      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚    â”‚ id (PK)         â”‚    â”‚ id (PK)         â”‚
â”‚ email (unique)  â”‚â—„â”€â”€â”â”‚ userId (FK)     â”‚â—„â”€â”€â”â”‚ chatId (FK)     â”‚
â”‚ name            â”‚   â”‚â”‚ title           â”‚   â”‚â”‚ content         â”‚
â”‚ password        â”‚   â”‚â”‚ createdAt       â”‚   â”‚â”‚ role            â”‚
â”‚ createdAt       â”‚   â”‚â”‚ updatedAt       â”‚   â”‚â”‚ createdAt       â”‚
â”‚ updatedAt       â”‚   â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                      â”‚
                      â”‚                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    Account      â”‚   â”‚ â”‚    Session      â”‚  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚ id (PK)         â”‚   â””â–ºâ”‚ id (PK)         â”‚  â”‚
â”‚ userId (FK)     â”‚â”€â”€â”€â”€â”€â”¤ userId (FK)     â”‚  â”‚
â”‚ provider        â”‚     â”‚ sessionToken    â”‚  â”‚
â”‚ providerAccountIdâ”‚    â”‚ expires         â”‚  â”‚
â”‚ refresh_token   â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ access_token    â”‚                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     Relationship:        â”‚
                        User â”€â”€â–º Chat â”€â”€â–º Message
                        (1:N)    (1:N)
```

### ğŸ“‹ **è¡¨ç»“æ„è¯¦è§£**

#### **User è¡¨** - ç”¨æˆ·ä¿¡æ¯

| å­—æ®µ            | ç±»å‹            | è¯´æ˜                |
| --------------- | --------------- | ------------------- |
| `id`            | String (PK)     | ç”¨æˆ·å”¯ä¸€æ ‡è¯† (cuid) |
| `email`         | String (Unique) | ç”¨æˆ·é‚®ç®±            |
| `name`          | String?         | ç”¨æˆ·æ˜¾ç¤ºåç§°        |
| `password`      | String?         | åŠ å¯†åçš„å¯†ç         |
| `emailVerified` | DateTime?       | é‚®ç®±éªŒè¯æ—¶é—´        |
| `image`         | String?         | ç”¨æˆ·å¤´åƒ URL        |
| `createdAt`     | DateTime        | åˆ›å»ºæ—¶é—´            |
| `updatedAt`     | DateTime        | æ›´æ–°æ—¶é—´            |

#### **Chat è¡¨** - èŠå¤©ä¼šè¯

| å­—æ®µ        | ç±»å‹        | è¯´æ˜         |
| ----------- | ----------- | ------------ |
| `id`        | String (PK) | èŠå¤©å”¯ä¸€æ ‡è¯† |
| `userId`    | String (FK) | æ‰€å±ç”¨æˆ· ID  |
| `title`     | String?     | èŠå¤©æ ‡é¢˜     |
| `createdAt` | DateTime    | åˆ›å»ºæ—¶é—´     |
| `updatedAt` | DateTime    | æœ€åæ›´æ–°æ—¶é—´ |

#### **Message è¡¨** - èŠå¤©æ¶ˆæ¯

| å­—æ®µ        | ç±»å‹        | è¯´æ˜                      |
| ----------- | ----------- | ------------------------- |
| `id`        | String (PK) | æ¶ˆæ¯å”¯ä¸€æ ‡è¯†              |
| `chatId`    | String (FK) | æ‰€å±èŠå¤© ID               |
| `content`   | String      | æ¶ˆæ¯å†…å®¹                  |
| `role`      | MessageRole | æ¶ˆæ¯è§’è‰² (USER/ASSISTANT) |
| `createdAt` | DateTime    | åˆ›å»ºæ—¶é—´                  |

#### **Account & Session è¡¨** - NextAuth.js è®¤è¯

ç”¨äº OAuth ç™»å½•å’Œä¼šè¯ç®¡ç†ï¼Œç”± NextAuth.js è‡ªåŠ¨ç»´æŠ¤ã€‚

### ğŸ”§ **æ•°æ®åº“æ“ä½œå‘½ä»¤**

```bash
# æŸ¥çœ‹æ•°æ®åº“çŠ¶æ€
npx prisma db push

# é‡ç½®æ•°æ®åº“
npx prisma db push --force-reset

# ç”Ÿæˆæ–°çš„è¿ç§»
npx prisma migrate dev --name add_new_feature

# æŸ¥çœ‹æ•°æ®åº“æ•°æ®
npx prisma studio

# éƒ¨ç½²è¿ç§»åˆ°ç”Ÿäº§ç¯å¢ƒ
npx prisma migrate deploy
```

---

## ğŸ¨ UI/UX è®¾è®¡

### ğŸ¯ **è®¾è®¡ç†å¿µ**

- **ç®€æ´ä¼˜é›…**: ä¸“æ³¨å†…å®¹ï¼Œå‡å°‘è§†è§‰å¹²æ‰°
- **æ·±è‰²ä¸»é¢˜**: æŠ¤çœ¼è®¾è®¡ï¼Œé€‚åˆé•¿æ—¶é—´ä½¿ç”¨
- **å“åº”å¼å¸ƒå±€**: å®Œç¾é€‚é…æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœº
- **ç›´è§‚äº¤äº’**: ç¬¦åˆç”¨æˆ·ç›´è§‰çš„æ“ä½œæ–¹å¼

### ğŸ¨ **è‰²å½©è®¾è®¡**

```css
:root {
  /* ä¸»è‰²è°ƒ */
  --color-primary: #000000; /* çº¯é»‘èƒŒæ™¯ */
  --color-secondary: #1a1a1a; /* æ¬¡çº§é»‘è‰² */

  /* æ–‡å­—è‰²å½© */
  --color-text-primary: #f5f5f5; /* ä¸»è¦æ–‡å­— */
  --color-text-secondary: #a1a1aa; /* æ¬¡è¦æ–‡å­— */
  --color-text-muted: #71717a; /* å¼±åŒ–æ–‡å­— */

  /* è¾¹æ¡†è‰²å½© */
  --color-border: #374151; /* ä¸»è¾¹æ¡† */
  --color-border-light: #4b5563; /* äº®è¾¹æ¡† */

  /* åŠŸèƒ½è‰²å½© */
  --color-accent: #6366f1; /* å¼ºè°ƒè‰² */
  --color-success: #10b981; /* æˆåŠŸè‰² */
  --color-warning: #f59e0b; /* è­¦å‘Šè‰² */
  --color-error: #ef4444; /* é”™è¯¯è‰² */
}
```

### ğŸ“± **å“åº”å¼æ–­ç‚¹**

```css
/* ç§»åŠ¨è®¾å¤‡ */
@media (max-width: 640px) {
  ...;
}

/* å¹³æ¿è®¾å¤‡ */
@media (min-width: 641px) and (max-width: 1024px) {
  ...;
}

/* æ¡Œé¢è®¾å¤‡ */
@media (min-width: 1025px) {
  ...;
}
```

### ğŸ­ **ç»„ä»¶è®¾è®¡ç³»ç»Ÿ**

#### **æŒ‰é’®ç»„ä»¶**

- **ä¸»è¦æŒ‰é’®**: é«˜å¯¹æ¯”åº¦ï¼Œç”¨äºä¸»è¦æ“ä½œ
- **æ¬¡è¦æŒ‰é’®**: ä¸­ç­‰å¯¹æ¯”åº¦ï¼Œç”¨äºæ¬¡è¦æ“ä½œ
- **å±é™©æŒ‰é’®**: çº¢è‰²ä¸»é¢˜ï¼Œç”¨äºåˆ é™¤ç­‰æ“ä½œ

#### **è¾“å…¥ç»„ä»¶**

- **æ–‡æœ¬è¾“å…¥æ¡†**: æ·±è‰²èƒŒæ™¯ï¼Œäº®è‰²è¾¹æ¡†
- **æ–‡æœ¬åŸŸ**: æ”¯æŒå¤šè¡Œè¾“å…¥ï¼Œè‡ªé€‚åº”é«˜åº¦
- **é€‰æ‹©å™¨**: ä¸‹æ‹‰é€‰æ‹©ï¼Œæ”¯æŒæœç´¢

#### **åé¦ˆç»„ä»¶**

- **åŠ è½½çŠ¶æ€**: éª¨æ¶å± + åŠ¨ç”»æŒ‡ç¤ºå™¨
- **æ¶ˆæ¯æç¤º**: Toast é€šçŸ¥ç³»ç»Ÿ
- **é”™è¯¯æç¤º**: å†…è”é”™è¯¯æ˜¾ç¤º

---

## ğŸ”§ å¼€å‘æŒ‡å—

### ğŸš€ **å¼€å‘ç¯å¢ƒæ­å»º**

#### **æ¨èå¼€å‘å·¥å…·**

- **IDE**: Visual Studio Code
- **æµè§ˆå™¨**: Chrome DevTools
- **æ•°æ®åº“**: Prisma Studio
- **API æµ‹è¯•**: Postman æˆ– Insomnia

#### **å¿…å¤‡ VS Code æ‰©å±•**

```json
{
  "recommendations": [
    "bradlc.vscode-tailwindcss",
    "prisma.prisma",
    "ms-vscode.vscode-typescript-next",
    "esbenp.prettier-vscode",
    "dbaeumer.vscode-eslint",
    "formulahendry.auto-rename-tag",
    "christian-kohler.path-intellisense"
  ]
}
```

### ğŸ“ **ç¼–ç è§„èŒƒ**

#### **TypeScript è§„èŒƒ**

```typescript
// âœ… å¥½çš„å®è·µ
interface User {
  id: string;
  email: string;
  name?: string;
}

const fetchUser = async (id: string): Promise<User | null> => {
  try {
    return await prisma.user.findUnique({ where: { id } });
  } catch (error) {
    console.error("Error fetching user:", error);
    return null;
  }
};

// âŒ é¿å…çš„å†™æ³•
const fetchUser = async (id: any) => {
  return await prisma.user.findUnique({ where: { id } });
};
```

#### **React ç»„ä»¶è§„èŒƒ**

```tsx
// âœ… å¥½çš„å®è·µ
interface MessageProps {
  content: string;
  role: "USER" | "ASSISTANT";
  timestamp: Date;
}

const Message: React.FC<MessageProps> = ({ content, role, timestamp }) => {
  return (
    <div className={`message ${role.toLowerCase()}`}>
      <p>{content}</p>
      <time>{timestamp.toLocaleString()}</time>
    </div>
  );
};

export default Message;
```

#### **API è·¯ç”±è§„èŒƒ**

```typescript
// âœ… å¥½çš„å®è·µ
export async function POST(request: NextRequest) {
  try {
    const session = await getServerSession(authOptions);
    if (!session) {
      return NextResponse.json({ error: "Unauthorized" }, { status: 401 });
    }

    const { message } = await request.json();
    if (!message?.trim()) {
      return NextResponse.json(
        { error: "Message is required" },
        { status: 400 }
      );
    }

    // å¤„ç†é€»è¾‘...

    return NextResponse.json({ success: true });
  } catch (error) {
    console.error("API Error:", error);
    return NextResponse.json(
      { error: "Internal server error" },
      { status: 500 }
    );
  }
}
```

### ğŸ”§ **å¸¸ç”¨å¼€å‘å‘½ä»¤**

```bash
# å¼€å‘ç›¸å…³
npm run dev              # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev:turbo        # ä½¿ç”¨ Turbopack å¯åŠ¨
npm run build            # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run start            # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm run lint             # ä»£ç æ£€æŸ¥
npm run type-check       # TypeScript ç±»å‹æ£€æŸ¥

# æ•°æ®åº“ç›¸å…³
npx prisma generate      # ç”Ÿæˆ Prisma å®¢æˆ·ç«¯
npx prisma db push       # æ¨é€ schema åˆ°æ•°æ®åº“
npx prisma studio        # æ‰“å¼€æ•°æ®åº“ç®¡ç†ç•Œé¢
npx prisma migrate dev   # åˆ›å»ºå¹¶åº”ç”¨è¿ç§»

# æµ‹è¯•ç›¸å…³ (å¦‚æœé…ç½®äº†æµ‹è¯•)
npm run test             # è¿è¡Œæµ‹è¯•
npm run test:watch       # ç›‘å¬æ¨¡å¼è¿è¡Œæµ‹è¯•
npm run test:coverage    # ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
```

### ğŸ› **è°ƒè¯•æŠ€å·§**

#### **å‰ç«¯è°ƒè¯•**

```typescript
// åœ¨ç»„ä»¶ä¸­æ·»åŠ è°ƒè¯•ä¿¡æ¯
const ChatPage = () => {
  const [messages, setMessages] = useState([]);

  // å¼€å‘ç¯å¢ƒä¸‹çš„è°ƒè¯•æ—¥å¿—
  useEffect(() => {
    if (process.env.NODE_ENV === 'development') {
      console.log('Messages updated:', messages);
    }
  }, [messages]);

  return (
    // ç»„ä»¶ JSX...
  );
};
```

#### **API è°ƒè¯•**

```typescript
// åœ¨ API è·¯ç”±ä¸­æ·»åŠ è¯¦ç»†æ—¥å¿—
export async function POST(request: NextRequest) {
  console.log("API called at:", new Date().toISOString());
  console.log("Request headers:", request.headers);

  const body = await request.json();
  console.log("Request body:", body);

  // å¤„ç†é€»è¾‘...
}
```

#### **æ•°æ®åº“è°ƒè¯•**

```bash
# æŸ¥çœ‹ç”Ÿæˆçš„ SQL
DEBUG=prisma:query npx prisma studio

# æŸ¥çœ‹ Prisma å¼•æ“æ—¥å¿—
DEBUG=prisma:engine npm run dev
```

---

## ğŸš€ éƒ¨ç½²æŒ‡å—

### â˜ï¸ **Vercel éƒ¨ç½² (æ¨è)**

#### **è‡ªåŠ¨éƒ¨ç½²**

1. **è¿æ¥ GitHub ä»“åº“**

   ```bash
   # æ¨é€ä»£ç åˆ° GitHub
   git add .
   git commit -m "Initial commit"
   git push origin main
   ```

2. **åœ¨ Vercel ä¸­å¯¼å…¥é¡¹ç›®**

   - è®¿é—® [Vercel Dashboard](https://vercel.com/dashboard)
   - ç‚¹å‡» "New Project"
   - é€‰æ‹©ä½ çš„ GitHub ä»“åº“
   - Vercel ä¼šè‡ªåŠ¨æ£€æµ‹ Next.js é¡¹ç›®

3. **é…ç½®ç¯å¢ƒå˜é‡**

   ```env
   # åœ¨ Vercel è®¾ç½®ä¸­æ·»åŠ ç¯å¢ƒå˜é‡
   DATABASE_URL=postgresql://...
   NEXTAUTH_URL=https://your-app.vercel.app
   NEXTAUTH_SECRET=your-production-secret
   OPENAI_API_KEY=sk-...
   ```

4. **éƒ¨ç½²**
   - ç‚¹å‡» "Deploy"
   - Vercel ä¼šè‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²

#### **è‡ªå®šä¹‰åŸŸå**

```bash
# åœ¨ Vercel Dashboard ä¸­
1. è¿›å…¥é¡¹ç›®è®¾ç½®
2. ç‚¹å‡» "Domains"
3. æ·»åŠ è‡ªå®šä¹‰åŸŸå
4. é…ç½® DNS è®°å½•
```

### ğŸ³ **Docker éƒ¨ç½²**

#### **Dockerfile**

```dockerfile
FROM node:18-alpine AS deps
RUN apk add --no-cache libc6-compat
WORKDIR /app

COPY package.json package-lock.json ./
RUN npm ci --only=production

FROM node:18-alpine AS builder
WORKDIR /app
COPY --from=deps /app/node_modules ./node_modules
COPY . .

ENV NEXT_TELEMETRY_DISABLED 1
RUN npm run build

FROM node:18-alpine AS runner
WORKDIR /app

ENV NODE_ENV production
ENV NEXT_TELEMETRY_DISABLED 1

RUN addgroup --system --gid 1001 nodejs
RUN adduser --system --uid 1001 nextjs

COPY --from=builder /app/public ./public
COPY --from=builder /app/.next/standalone ./
COPY --from=builder /app/.next/static ./.next/static

USER nextjs

EXPOSE 3000

ENV PORT 3000

CMD ["node", "server.js"]
```

#### **docker-compose.yml**

```yaml
version: "3.8"
services:
  app:
    build: .
    ports:
      - "3000:3000"
    environment:
      - DATABASE_URL=postgresql://postgres:password@db:5432/nobrainer
      - NEXTAUTH_SECRET=your-secret
      - OPENAI_API_KEY=your-key
    depends_on:
      - db

  db:
    image: postgres:15
    environment:
      - POSTGRES_DB=nobrainer
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=password
    volumes:
      - postgres_data:/var/lib/postgresql/data
    ports:
      - "5432:5432"

volumes:
  postgres_data:
```

#### **éƒ¨ç½²å‘½ä»¤**

```bash
# æ„å»ºå’Œå¯åŠ¨
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢æœåŠ¡
docker-compose down
```

### ğŸŒ **å…¶ä»–éƒ¨ç½²é€‰é¡¹**

#### **Railway**

```bash
# å®‰è£… Railway CLI
npm install -g @railway/cli

# ç™»å½•
railway login

# åˆå§‹åŒ–é¡¹ç›®
railway init

# éƒ¨ç½²
railway up
```

#### **Heroku**

```bash
# å®‰è£… Heroku CLI
npm install -g heroku

# ç™»å½•
heroku login

# åˆ›å»ºåº”ç”¨
heroku create your-app-name

# è®¾ç½®ç¯å¢ƒå˜é‡
heroku config:set DATABASE_URL=your-db-url
heroku config:set NEXTAUTH_SECRET=your-secret

# éƒ¨ç½²
git push heroku main
```

### ğŸ”§ **ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–**

#### **æ€§èƒ½ä¼˜åŒ–**

```javascript
// next.config.js
/** @type {import('next').NextConfig} */
const nextConfig = {
  // å‹ç¼©å›¾ç‰‡
  images: {
    formats: ["image/webp"],
    minimumCacheTTL: 60,
  },

  // å¯ç”¨ SWC å‹ç¼©
  swcMinify: true,

  // è¾“å‡ºä¸ºç‹¬ç«‹åº”ç”¨
  output: "standalone",

  // å®éªŒæ€§åŠŸèƒ½
  experimental: {
    // å¯ç”¨ Turbopack
    turbo: {
      loaders: {
        ".svg": ["@svgr/webpack"],
      },
    },
  },
};

module.exports = nextConfig;
```

#### **ç›‘æ§è®¾ç½®**

```bash
# æ·»åŠ é”™è¯¯ç›‘æ§
npm install @sentry/nextjs

# æ·»åŠ æ€§èƒ½ç›‘æ§
npm install @vercel/analytics
```

---

## ğŸ” æµ‹è¯•

### ğŸ§ª **æµ‹è¯•ç­–ç•¥**

- **å•å…ƒæµ‹è¯•**: æµ‹è¯•ç‹¬ç«‹å‡½æ•°å’Œç»„ä»¶
- **é›†æˆæµ‹è¯•**: æµ‹è¯• API è·¯ç”±å’Œæ•°æ®åº“äº¤äº’
- **ç«¯åˆ°ç«¯æµ‹è¯•**: æµ‹è¯•å®Œæ•´ç”¨æˆ·æµç¨‹

### ğŸ› ï¸ **æµ‹è¯•å·¥å…·é…ç½®**

#### **Jest + React Testing Library**

```bash
# å®‰è£…æµ‹è¯•ä¾èµ–
npm install --save-dev jest @testing-library/react @testing-library/jest-dom
```

#### **jest.config.js**

```javascript
const nextJest = require("next/jest");

const createJestConfig = nextJest({
  dir: "./",
});

const customJestConfig = {
  setupFilesAfterEnv: ["<rootDir>/jest.setup.js"],
  moduleNameMapping: {
    "^@/(.*)$": "<rootDir>/src/$1",
  },
  testEnvironment: "jest-environment-jsdom",
};

module.exports = createJestConfig(customJestConfig);
```

### âœ… **æµ‹è¯•ç¤ºä¾‹**

#### **ç»„ä»¶æµ‹è¯•**

```typescript
// __tests__/components/Message.test.tsx
import { render, screen } from "@testing-library/react";
import Message from "@/components/Message";

describe("Message Component", () => {
  it("renders user message correctly", () => {
    render(
      <Message
        content="Hello, world!"
        role="USER"
        timestamp={new Date("2025-06-26")}
      />
    );

    expect(screen.getByText("Hello, world!")).toBeInTheDocument();
    expect(screen.getByText("6/26/2025")).toBeInTheDocument();
  });
});
```

#### **API æµ‹è¯•**

```typescript
// __tests__/api/chat.test.ts
import { POST } from "@/app/api/chat/route";
import { NextRequest } from "next/server";

jest.mock("@/lib/prisma", () => ({
  user: {
    findUnique: jest.fn(),
  },
  chat: {
    create: jest.fn(),
  },
}));

describe("/api/chat", () => {
  it("creates new chat successfully", async () => {
    const request = new NextRequest("http://localhost:3000/api/chat", {
      method: "POST",
      body: JSON.stringify({ message: "Hello" }),
    });

    const response = await POST(request);
    expect(response.status).toBe(200);
  });
});
```

### ğŸš€ **è¿è¡Œæµ‹è¯•**

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# ç›‘å¬æ¨¡å¼
npm run test:watch

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage
```

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### âš¡ **å‰ç«¯æ€§èƒ½ä¼˜åŒ–**

#### **ä»£ç åˆ†å‰²**

```typescript
// åŠ¨æ€å¯¼å…¥ç»„ä»¶
import dynamic from "next/dynamic";

const ChatInterface = dynamic(() => import("@/components/ChatInterface"), {
  loading: () => <p>Loading...</p>,
  ssr: false, // å®¢æˆ·ç«¯æ¸²æŸ“
});
```

#### **å›¾ç‰‡ä¼˜åŒ–**

```jsx
import Image from "next/image";

// ä½¿ç”¨ Next.js Image ç»„ä»¶
<Image
  src="/logo.png"
  alt="NoBrainer Logo"
  width={200}
  height={100}
  priority // å…³é”®å›¾ç‰‡é¢„åŠ è½½
/>;
```

#### **ç¼“å­˜ç­–ç•¥**

```typescript
// API è·¯ç”±ç¼“å­˜
export async function GET() {
  return NextResponse.json(data, {
    headers: {
      "Cache-Control": "s-maxage=60, stale-while-revalidate",
    },
  });
}

// é™æ€ç”Ÿæˆç¼“å­˜
export const revalidate = 3600; // 1å°æ—¶é‡æ–°éªŒè¯
```

### ğŸ—„ï¸ **æ•°æ®åº“æ€§èƒ½ä¼˜åŒ–**

#### **ç´¢å¼•ä¼˜åŒ–**

```prisma
model Chat {
  id        String   @id @default(cuid())
  userId    String
  title     String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // æ·»åŠ ç´¢å¼•æå‡æŸ¥è¯¢æ€§èƒ½
  @@index([userId, updatedAt])
  @@index([createdAt])
}

model Message {
  id        String   @id @default(cuid())
  chatId    String
  content   String
  role      MessageRole
  createdAt DateTime @default(now())

  // æ¶ˆæ¯æŸ¥è¯¢ç´¢å¼•
  @@index([chatId, createdAt])
}
```

#### **æŸ¥è¯¢ä¼˜åŒ–**

```typescript
// âœ… é«˜æ•ˆçš„æŸ¥è¯¢ - åªè·å–éœ€è¦çš„å­—æ®µ
const chats = await prisma.chat.findMany({
  where: { userId },
  select: {
    id: true,
    title: true,
    updatedAt: true,
    _count: {
      select: { messages: true },
    },
  },
  orderBy: { updatedAt: "desc" },
  take: 20, // é™åˆ¶ç»“æœæ•°é‡
});

// âŒ ä½æ•ˆçš„æŸ¥è¯¢ - è·å–æ‰€æœ‰å­—æ®µ
const chats = await prisma.chat.findMany({
  where: { userId },
  include: {
    messages: true, // ä¼šåŠ è½½æ‰€æœ‰æ¶ˆæ¯
  },
});
```

### ğŸš€ **API æ€§èƒ½ä¼˜åŒ–**

#### **å“åº”å‹ç¼©**

```javascript
// next.config.js
module.exports = {
  compress: true, // å¯ç”¨ gzip å‹ç¼©

  // è‡ªå®šä¹‰ headers
  async headers() {
    return [
      {
        source: "/api/:path*",
        headers: [
          {
            key: "Cache-Control",
            value: "s-maxage=1, stale-while-revalidate",
          },
        ],
      },
    ];
  },
};
```

#### **è¯·æ±‚ä¼˜åŒ–**

```typescript
// é˜²æŠ–å¤„ç†ç”¨æˆ·è¾“å…¥
import { useDebouncedCallback } from "use-debounce";

const debouncedSend = useDebouncedCallback(
  (message: string) => {
    sendMessage(message);
  },
  500 // 500ms å»¶è¿Ÿ
);
```

### ğŸ“ˆ **ç›‘æ§å·¥å…·**

#### **Web Vitals**

```typescript
// pages/_app.tsx
import { getCLS, getFID, getFCP, getLCP, getTTFB } from "web-vitals";

function sendToAnalytics(metric: any) {
  // å‘é€åˆ°åˆ†ææœåŠ¡
  console.log(metric);
}

export function reportWebVitals(metric: any) {
  sendToAnalytics(metric);
}
```

#### **æ€§èƒ½ç›‘æ§**

```bash
# å®‰è£… Vercel Analytics
npm install @vercel/analytics

# å®‰è£… Sentry ç›‘æ§
npm install @sentry/nextjs
```

---

## ğŸ”’ å®‰å…¨æ€§

### ğŸ›¡ï¸ **è®¤è¯å®‰å…¨**

#### **å¯†ç å®‰å…¨**

```typescript
import bcrypt from "bcryptjs";

// å®‰å…¨çš„å¯†ç å“ˆå¸Œ
const hashPassword = async (password: string): Promise<string> => {
  const saltRounds = 12; // é«˜å¼ºåº¦åŠ å¯†
  return bcrypt.hash(password, saltRounds);
};

// å¯†ç å¼ºåº¦éªŒè¯
const validatePassword = (password: string): boolean => {
  const minLength = 8;
  const hasUpperCase = /[A-Z]/.test(password);
  const hasLowerCase = /[a-z]/.test(password);
  const hasNumbers = /\d/.test(password);
  const hasSpecialChar = /[!@#$%^&*(),.?":{}|<>]/.test(password);

  return (
    password.length >= minLength &&
    hasUpperCase &&
    hasLowerCase &&
    hasNumbers &&
    hasSpecialChar
  );
};
```

#### **JWT å®‰å…¨**

```typescript
// å®‰å…¨çš„ JWT é…ç½®
const authOptions = {
  session: {
    strategy: "jwt",
    maxAge: 24 * 60 * 60, // 24 å°æ—¶
  },
  jwt: {
    secret: process.env.NEXTAUTH_SECRET,
    maxAge: 24 * 60 * 60,
  },
  callbacks: {
    async jwt({ token, user }) {
      // æ·»åŠ é¢å¤–çš„å®‰å…¨æ£€æŸ¥
      if (user) {
        token.id = user.id;
        token.iat = Math.floor(Date.now() / 1000);
      }
      return token;
    },
  },
};
```

### ğŸ” **API å®‰å…¨**

#### **è¾“å…¥éªŒè¯**

```typescript
import { z } from "zod"; // æ¨èä½¿ç”¨ zod è¿›è¡ŒéªŒè¯

const messageSchema = z.object({
  message: z.string().min(1).max(1000),
  chatId: z.string().optional(),
});

export async function POST(request: NextRequest) {
  try {
    const body = await request.json();

    // éªŒè¯è¾“å…¥
    const validatedData = messageSchema.parse(body);

    // å¤„ç†é€»è¾‘...
  } catch (error) {
    if (error instanceof z.ZodError) {
      return NextResponse.json(
        { error: "Invalid input", details: error.errors },
        { status: 400 }
      );
    }
  }
}
```

#### **æƒé™æ£€æŸ¥**

```typescript
const checkUserPermission = async (
  userId: string,
  chatId: string
): Promise<boolean> => {
  const chat = await prisma.chat.findUnique({
    where: { id: chatId },
    select: { userId: true },
  });

  return chat?.userId === userId;
};
```

### ğŸŒ **ç½‘ç»œå®‰å…¨**

#### **CORS é…ç½®**

```javascript
// next.config.js
module.exports = {
  async headers() {
    return [
      {
        source: "/api/:path*",
        headers: [
          {
            key: "Access-Control-Allow-Origin",
            value: "https://yourdomain.com",
          },
          { key: "Access-Control-Allow-Methods", value: "GET,POST,PUT,DELETE" },
          {
            key: "Access-Control-Allow-Headers",
            value: "Content-Type,Authorization",
          },
        ],
      },
    ];
  },
};
```

#### **ç¯å¢ƒå˜é‡å®‰å…¨**

```bash
# .env.local - æ•æ„Ÿä¿¡æ¯
DATABASE_URL="postgresql://..."
NEXTAUTH_SECRET="complex-secret-key"
OPENAI_API_KEY="sk-..."

# .env.example - å…¬å¼€æ¨¡æ¿ï¼ˆä¸åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼‰
DATABASE_URL="postgresql://username:password@localhost:5432/dbname"
NEXTAUTH_SECRET="your-secret-key-here"
OPENAI_API_KEY="your-openai-api-key"
```

### ğŸ” **å®‰å…¨æ£€æŸ¥æ¸…å•**

- [ ] æ‰€æœ‰å¯†ç éƒ½ç»è¿‡ bcrypt å“ˆå¸Œ
- [ ] JWT å¯†é’¥è¶³å¤Ÿå¤æ‚ä¸”å®šæœŸæ›´æ¢
- [ ] API è·¯ç”±éƒ½æœ‰è®¤è¯æ£€æŸ¥
- [ ] ç”¨æˆ·åªèƒ½è®¿é—®è‡ªå·±çš„æ•°æ®
- [ ] è¾“å…¥æ•°æ®éƒ½ç»è¿‡éªŒè¯å’Œæ¸…ç†
- [ ] æ•æ„Ÿä¿¡æ¯ä¸è®°å½•åœ¨æ—¥å¿—ä¸­
- [ ] HTTPS åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯ç”¨
- [ ] å®šæœŸæ›´æ–°ä¾èµ–åŒ…
- [ ] å®æ–½ CORS ç­–ç•¥
- [ ] è®¾ç½®åˆé€‚çš„ CSP å¤´éƒ¨

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### ğŸŒŸ **å¦‚ä½•è´¡çŒ®**

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼æ— è®ºæ˜¯ï¼š

- ğŸ› æŠ¥å‘Š Bug
- ğŸ’¡ æå‡ºæ–°åŠŸèƒ½
- ğŸ“ æ”¹è¿›æ–‡æ¡£
- ğŸ”§ æäº¤ä»£ç 

### ğŸš€ **è´¡çŒ®æµç¨‹**

#### **1. Fork é¡¹ç›®**

```bash
# åœ¨ GitHub ä¸Š Fork è¿™ä¸ªä»“åº“
# å…‹éš†ä½ çš„ Fork
git clone https://github.com/YOUR_USERNAME/nobrainer.git
cd nobrainer
```

#### **2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**

```bash
# åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯
git checkout -b feature/amazing-feature

# æˆ–è€…ä¿®å¤ bug
git checkout -b fix/bug-description
```

#### **3. æäº¤æ›´æ”¹**

```bash
# æ·»åŠ æ›´æ”¹
git add .

# æäº¤æ›´æ”¹ (ä½¿ç”¨æè¿°æ€§æ¶ˆæ¯)
git commit -m "feat: add amazing new feature"

# æ¨é€åˆ°ä½ çš„ Fork
git push origin feature/amazing-feature
```

#### **4. åˆ›å»º Pull Request**

- åœ¨ GitHub ä¸Šåˆ›å»º Pull Request
- å¡«å†™è¯¦ç»†çš„æè¿°
- ç­‰å¾…ä»£ç å®¡æŸ¥

### ğŸ“ **æäº¤æ¶ˆæ¯è§„èŒƒ**

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

#### **æäº¤ç±»å‹**

- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: ä»£ç é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

#### **ç¤ºä¾‹**

```bash
feat(auth): add Google OAuth integration
fix(chat): resolve message ordering issue
docs: update API documentation
style: format code with prettier
refactor(db): optimize database queries
test: add unit tests for chat API
chore: update dependencies
```

### ğŸ” **ä»£ç å®¡æŸ¥æ ‡å‡†**

#### **ä»£ç è´¨é‡**

- [ ] ä»£ç ç¬¦åˆé¡¹ç›®é£æ ¼æŒ‡å—
- [ ] é€šè¿‡æ‰€æœ‰ ESLint æ£€æŸ¥
- [ ] æ·»åŠ å¿…è¦çš„ TypeScript ç±»å‹
- [ ] åŒ…å«é€‚å½“çš„é”™è¯¯å¤„ç†

#### **åŠŸèƒ½æ€§**

- [ ] åŠŸèƒ½æŒ‰é¢„æœŸå·¥ä½œ
- [ ] ä¸ç ´åç°æœ‰åŠŸèƒ½
- [ ] åŒ…å«å¿…è¦çš„æµ‹è¯•
- [ ] æ›´æ–°ç›¸å…³æ–‡æ¡£

#### **æ€§èƒ½**

- [ ] ä¸å¼•å…¥æ€§èƒ½å›å½’
- [ ] ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢
- [ ] è€ƒè™‘ç¼“å­˜ç­–ç•¥

### ğŸ› **æŠ¥å‘Š Bug**

#### **Bug æŠ¥å‘Šæ¨¡æ¿**

```markdown
## Bug æè¿°

ç®€æ˜æè¿°é‡åˆ°çš„é—®é¢˜

## é‡ç°æ­¥éª¤

1. ç™»å½•åº”ç”¨
2. ç‚¹å‡» '...'
3. çœ‹åˆ°é”™è¯¯

## é¢„æœŸè¡Œä¸º

æè¿°ä½ æœŸæœ›å‘ç”Ÿä»€ä¹ˆ

## å®é™…è¡Œä¸º

æè¿°å®é™…å‘ç”Ÿäº†ä»€ä¹ˆ

## ç¯å¢ƒä¿¡æ¯

- OS: [e.g. macOS 14.0]
- Browser: [e.g. Chrome 120]
- Node.js version: [e.g. 18.17.0]

## é™„åŠ ä¿¡æ¯

æ·»åŠ æˆªå›¾æˆ–å…¶ä»–ç›¸å…³ä¿¡æ¯
```

### ğŸ’¡ **åŠŸèƒ½è¯·æ±‚**

#### **åŠŸèƒ½è¯·æ±‚æ¨¡æ¿**

```markdown
## åŠŸèƒ½æè¿°

æ¸…æ™°æè¿°ä½ æƒ³è¦çš„åŠŸèƒ½

## é—®é¢˜è§£å†³

è¿™ä¸ªåŠŸèƒ½è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ

## æ›¿ä»£æ–¹æ¡ˆ

ä½ è€ƒè™‘è¿‡å…¶ä»–è§£å†³æ–¹æ¡ˆå—ï¼Ÿ

## é™„åŠ ä¸Šä¸‹æ–‡

æ·»åŠ ä»»ä½•å…¶ä»–ç›¸å…³ä¿¡æ¯
```

---

## ğŸ“ æ”¯æŒä¸è”ç³»

### ğŸ†˜ **è·å–å¸®åŠ©**

#### **ç¤¾åŒºæ”¯æŒ**

- ğŸ’¬ [GitHub Discussions](https://github.com/your-username/nobrainer/discussions) - æé—®å’Œè®¨è®º
- ğŸ› [GitHub Issues](https://github.com/your-username/nobrainer/issues) - æŠ¥å‘Š Bug
- ğŸ“§ Email: support@nobrainer.dev

#### **æ–‡æ¡£èµ„æº**

- ğŸ“– [å®˜æ–¹æ–‡æ¡£](https://docs.nobrainer.dev)
- ğŸ¥ [è§†é¢‘æ•™ç¨‹](https://youtube.com/nobrainer-tutorials)
- ğŸ“š [ç¤ºä¾‹é¡¹ç›®](https://github.com/nobrainer-examples)

### ğŸ”— **ç›¸å…³é“¾æ¥**

#### **æŠ€æœ¯æ–‡æ¡£**

- [Next.js æ–‡æ¡£](https://nextjs.org/docs)
- [Prisma æ–‡æ¡£](https://www.prisma.io/docs)
- [NextAuth.js æ–‡æ¡£](https://next-auth.js.org)
- [Tailwind CSS æ–‡æ¡£](https://tailwindcss.com/docs)
- [OpenAI API æ–‡æ¡£](https://platform.openai.com/docs)

#### **å·¥å…·å’Œèµ„æº**

- [TypeScript å­¦ä¹ èµ„æº](https://www.typescriptlang.org/docs)
- [React æœ€ä½³å®è·µ](https://react.dev)
- [æ•°æ®åº“è®¾è®¡æŒ‡å—](https://www.prisma.io/dataguide)

### ğŸ‘¥ **å›¢é˜Ÿä¿¡æ¯**

#### **æ ¸å¿ƒç»´æŠ¤è€…**

- **[@your-username](https://github.com/your-username)** - é¡¹ç›®åˆ›å»ºè€…å’Œç»´æŠ¤è€…
- **[@contributor1](https://github.com/contributor1)** - å‰ç«¯å¼€å‘
- **[@contributor2](https://github.com/contributor2)** - åç«¯å¼€å‘

#### **è´¡çŒ®è€…**

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

<a href="https://github.com/your-username/nobrainer/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=your-username/nobrainer" />
</a>

### ğŸ“„ **è®¸å¯è¯**

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

### ğŸ¯ **è·¯çº¿å›¾**

#### **å³å°†æ¨å‡ºçš„åŠŸèƒ½**

- [ ] ğŸ” æ¶ˆæ¯æœç´¢åŠŸèƒ½
- [ ] ğŸ“¤ èŠå¤©å¯¼å‡º/å¯¼å…¥
- [ ] ğŸ¨ è‡ªå®šä¹‰ä¸»é¢˜
- [ ] ğŸŒ å¤šè¯­è¨€æ”¯æŒ
- [ ] ğŸ‘¥ å›¢é˜Ÿåä½œåŠŸèƒ½
- [ ] ğŸ”Œ æ’ä»¶ç³»ç»Ÿ
- [ ] ğŸ“± ç§»åŠ¨åº”ç”¨

#### **é•¿æœŸè®¡åˆ’**

- [ ] ğŸ¤– è‡ªå®šä¹‰ AI æ¨¡å‹
- [ ] â˜ï¸ ä¼ä¸šçº§éƒ¨ç½²
- [ ] ğŸ“Š é«˜çº§åˆ†æ
- [ ] ğŸ”— ç¬¬ä¸‰æ–¹é›†æˆ

---

<div align="center">

### ğŸ™ æ„Ÿè°¢ä½¿ç”¨ NoBrainer!

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¸

**[â¬† å›åˆ°é¡¶éƒ¨](#-nobrainer---ai-chat-platform)**

---

**ç”± â¤ï¸ å’Œ â˜• é©±åŠ¨ | ä½¿ç”¨ [Next.js](https://nextjs.org) æ„å»º**

</div>
